---
ms.openlocfilehash: f09d0a7b81e3cfa69fd42356faf27f79e3bc038c
ms.sourcegitcommit: fa6e775dcf95a4253ad854796f5906f33af05a42
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/16/2019
ms.locfileid: "68230680"
---
При получении обратного вызова обновления адреса доставки или обновления варианта доставки боту будет предоставлено текущее состояние деталей платежа от клиента в свойстве `Activity.Value`.
Продавцам необходимо рассматривать эти обратные вызовы как статические. Получив входные данные платежа, вы будете вычислять некоторые выходные данные платежа и терпеть неудачу, если входное состояние, предоставленное клиентом, по какой-либо причине является недопустимым. 
Если бот определяет, что данная информация действительна как есть, отправьте код состояния HTTP `200 OK` вместе с неизменными реквизитами платежа. Кроме того, бот может отправлять код состояния HTTP `200 OK` вместе с обновленными реквизитами платежа, которые должны применяться до того, как заказ будет обработан. В некоторых случаях бот может определить, что обновленная информация недействительна и заказ не может быть обработан. Например, адрес доставки может указывать страну, в которую поставщик не отправляет товар. В этом случае бот может отправить код состояния HTTP `200 OK` и сообщение, заполняющее свойство ошибки объекта сведений оплаты. Отправка любого кода состояния HTTP в диапазоне `400` или `500` приведет к общей ошибке для клиента.
