---
title: Определение распознавателя кода как триггера задачи | Документация Майкрософт
description: Сведения о том, как использовать настраиваемый распознаватель кода в качестве триггера задачи.
author: vkannan
manager: kamrani
ms.topic: article
ms.prod: bot-framework
ms.date: 12/13/2017
ROBOTS: NoIndex, NoFollow
ms.openlocfilehash: 6d44cd299e46971b2218bb78d16e454d5df3c1d9
ms.sourcegitcommit: f576981342fb3361216675815714e24281e20ddf
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/18/2018
ms.locfileid: "39300982"
---
# <a name="define-code-recognizer-as-task-trigger"></a>Определение распознавателя кода в качестве триггера задачи
> [!IMPORTANT]
> Конструктор диалогов пока доступен не для всех клиентов. Дополнительные сведения о доступности конструктора диалогов будут опубликованы позже в этом году.

Распознаватели кода позволяют создавать пользовательские скрипты для выполнения задачи. Вычисление выражений на основе регулярных выражений или вызов других служб можно использовать для определения намерений пользователя. Пользовательский скрипт укажет среде выполнения диалога запустить задачу. 

## <a name="create-a-script-function"></a>Создание функции скрипта
Для использования скрипта в качестве распознавателя в редакторе задач выберите параметр Script Function (Функция скрипта) в качестве распознавателя, укажите имя функции и щелкните **Create/View Function** (Создать или просмотреть функцию), чтобы начать редактирование скрипта. Можно также щелкнуть **Create/View Function** (Создать или просмотреть функцию), не указывая имя скрипта, после чего автоматически будет создана пустая функция с именем по умолчанию. 

## <a name="script-trigger-function-parameter"></a>Параметр функции триггера скрипта

Функция обратного вызова указанного скрипта всегда будет вызываться с помощью объекта [`context`](conversation-designer-context-object.md).

Объект `context` включает в себя `taskEntities` и `contextEntities`. Сущности задачи — это сущности, которые определяются или создаются для этой задачи, а сущности контекста — это контейнеры свойств, в которых сущности могут сохраняться между беседами с пользователем.

## <a name="return-value"></a>Возвращаемое значение

Функции **создания скрипта для триггера** предполагают возвращение логического значения.

## <a name="sample-regex-based-recognizer"></a>Пример распознавателя на основе регулярных выражений
В следующем примере кода используется регулярное выражение для обработки запроса и возвращения логического значения, чтобы среда выполнения диалога могла определить, какой триггер скрипта выполнять.

```javascript
module.exports.fnFindPhoneTrigger = function(context) {
    if (context.request.text.includes("call") || context.request.text.includes("ring")) {
        return true;
    } else {
        return false;
    }
} 
```

## <a name="next-step"></a>Дальнейшие действия
> [!div class="nextstepaction"]
> [Ответное действие](conversation-designer-reply.md)
