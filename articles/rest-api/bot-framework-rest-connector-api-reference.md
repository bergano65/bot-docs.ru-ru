---
title: Справочник по API — Служба Azure Bot
description: Дополнительные сведения о заголовках, операциях, объектах и ошибках в службах Bot Connector и Состояние бота.
author: ivorb
ms.author: kamrani
manager: kamrani
ms.topic: article
ms.service: bot-service
ms.date: 08/02/2019
ms.openlocfilehash: 7788a3bc8ecc3ee01cd44b25297a637f8fc07b01
ms.sourcegitcommit: f8b5cc509a6351d3aae89bc146eaabead973de97
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/09/2020
ms.locfileid: "75790075"
---
# <a name="api-reference"></a>Справочник по API

> [!NOTE]
> REST API не является эквивалентом пакета SDK. REST API позволяет установить стандартную связь REST, однако предпочтительный способ взаимодействия с Bot Framework — это SDK.

На платформе Bot Framework есть служба Bot Connector, которая позволяет боту обмениваться сообщениями с каналами, настроенными на портале Bot Framework. Эта служба использует стандартные отраслевые протоколы REST и JSON через HTTPS.

## <a name="base-uri"></a>Базовый универсальный код ресурса

Когда пользователь отправляет сообщение боту, входящий запрос содержит объект [Activity](#activity-object) со свойством `serviceUrl`, которое указывает конечную точку, в которую бот должен отправить ответ. Для доступа к службе Bot Connector используйте значение `serviceUrl` как базовый URI для запросов API.

Например, предположим, что бот получает следующее действие, когда пользователь отправляет сообщение боту.

```json
{
    "type": "message",
    "id": "bf3cc9a2f5de...",
    "timestamp": "2016-10-19T20:17:52.2891902Z",
    "serviceUrl": "https://smba.trafficmanager.net/apis",
    "channelId": "channel's name/id",
    "from": {
        "id": "1234abcd",
        "name": "user's name"
    },
    "conversation": {
        "id": "abcd1234",
        "name": "conversation's name"
    },
    "recipient": {
        "id": "12345678",
        "name": "bot's name"
    },
    "text": "Haircut on Saturday"
}
```

Свойство `serviceUrl` в сообщении пользователя указывает, что боту следует отправить ответ в конечную точку `https://smba.trafficmanager.net/apis`. Это будет базовым URI для последующих запросов, которые бот будет выдавать в рамках этого общения. Если боту будет необходимо отправить пользователю упреждающее сообщение, не забудьте сохранить значение `serviceUrl`.

В следующем примере показан запрос, который бот выдает в ответ на сообщение пользователя.

```http
POST https://smba.trafficmanager.net/apis/v3/conversations/abcd1234/activities/bf3cc9a2f5de...
Authorization: Bearer eyJhbGciOiJIUzI1Ni...
Content-Type: application/json
```

```json
{
    "type": "message",
    "from": {
        "id": "12345678",
        "name": "bot's name"
    },
    "conversation": {
        "id": "abcd1234",
        "name": "conversation's name"
    },
   "recipient": {
        "id": "1234abcd",
        "name": "user's name"
    },
    "text": "I have several times available on Saturday!",
    "replyToId": "bf3cc9a2f5de..."
}
```

## <a name="headers"></a>Заголовки

### <a name="request-headers"></a>Заголовки запросов

Помимо стандартных заголовков HTTP-запроса каждый выдаваемый запрос API должен включать заголовок `Authorization`, который указывает маркер доступа для проверки подлинности бота. Используйте для заголовка `Authorization` следующий формат:

```http
Authorization: Bearer ACCESS_TOKEN
```

Дополнительные сведения о том, как получить маркер доступа для бота, см. в разделе [Authenticate requests from your bot to the Bot Connector service](bot-framework-rest-connector-authentication.md#bot-to-connector) (Проверка подлинности запросов от бота в службу Bot Connector).

### <a name="response-headers"></a>Заголовки ответов

Помимо стандартных заголовков HTTP-ответа каждый ответ будет содержать заголовок `X-Correlating-OperationId`. Значение этого заголовка — это идентификатор, который соответствует записи журнала Bot Framework, содержащей сведения о запросе. Когда появляется сообщение об ошибке, следует фиксировать значение этого заголовка. Если вы не можете самостоятельно устранить проблему, при отправке сообщения об ошибке включите это значение в сведения, предоставляемые в службу поддержки.

## <a name="http-status-codes"></a>Коды состояния HTTP

<a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html" target="_blank">Код состояния HTTP</a>, который возвращается с каждым ответом, указывает результат соответствующего запроса.

| HTTP status code (Код состояния HTTP) | Значение |
|----|----|
| 200 | Запрос выполнен успешно. |
| 201 | Запрос выполнен успешно. |
| 202 | Запрос принят для обработки. |
| 204 | Запрос успешно выполнен, но содержимое не было возвращено. |
| 400 | Запрос неправильный или имеет недопустимый формат. |
| 401 | Бот не авторизован для выполнения запроса. |
| 403 | Бот не допускается к выполнению запрошенной операции. |
| 404 | Запрошенный ресурс не найден. |
| 500 | Произошла внутренняя ошибка сервера. |
| 503 | Служба недоступна. |

### <a name="errors"></a>ошибки

Любой ответ, указывающий код состояния HTTP в диапазоне 4xx или 5xx, будет содержать в тексте ответа объект [ErrorResponse](#errorresponse-object), который предоставляет сведения об ошибке. Если вы получите сообщение об ошибке в диапазоне 4xx, проверьте объект **ErrorResponse**, чтобы определить причину ошибки и устранить проблему, прежде чем повторно отправлять запрос.

## <a name="conversation-operations"></a>Операции диалога

Используйте следующие операции для создания общения, отправки сообщений (действий) и управления содержимым общения.

| Операция | Description |
|----|----|
| [Создать общение](#create-conversation) | Создает новое общение. |
| [Отправить в общение](#send-to-conversation) | Отправляет действие (сообщение) в конец указанного общения. |
| [Ответить на действие](#reply-to-activity) | Отправляет действие (сообщение) в указанное общение как ответ на указанное действие. |
| [Получить диалоги](#get-conversations) | Получает список диалогов, в которых бот принимал участие. |
| [Получить участников общения](#get-conversation-members) | Возвращает участников указанного общения. |
| [Получение участников беседы по страницам](#get-conversation-paged-members) | Возвращает участников указанной беседы по одной странице за раз. |
| [Получить участников действия](#get-activity-members) | Возвращает участников указанного действия в указанном общении. |
| [Обновить действие](#update-activity) | Обновляет существующее действие. |
| [Удалить действие](#delete-activity) | Удаляет существующее действие. |
| [Удалить участника диалога](#delete-conversation-member) | Удаляет участника из диалога. |
| [Отправить журнал бесед](#send-conversation-history) | Отправляет расшифровку последних действий в диалог. |
| [Отправить вложение на канал](#upload-attachment-to-channel) | Передает вложение непосредственно в хранилище BLOB-объектов канала. |

### <a name="create-conversation"></a>Создать общение

Создает новое общение.

```http
POST /v3/conversations
```

| | |
|----|----|
| **Текст запроса** | Объект [ConversationParameters](#conversationparameters-object) |
| **Возвращает** | Объект [ConversationResourceResponse](#conversationresourceresponse-object) |

### <a name="send-to-conversation"></a>Отправить в общение

Отправляет действие (сообщение) в указанное общение. Действие будет добавлено в конец общения в соответствии с меткой времени или семантикой канала. Чтобы ответить на конкретное сообщение внутри общения, вместо этого используйте [Ответить на действие](#reply-to-activity).

```http
POST /v3/conversations/{conversationId}/activities
```

| | |
|----|----|
| **Текст запроса** | Объект [Activity](#activity-object) |
| **Возвращает** | Объект [ResourceResponse](#resourceresponse-object) |

### <a name="reply-to-activity"></a>Ответить на действие

Отправляет действие (сообщение) в указанное общение как ответ на указанное действие. Действие добавляется в качестве ответа на другое действие, если канал это поддерживает. Если канал не поддерживает вложенные ответы, то эта операция ведет себя как [Отправить в общение](#send-to-conversation).

```http
POST /v3/conversations/{conversationId}/activities/{activityId}
```

| | |
|----|----|
| **Текст запроса** | Объект [Activity](#activity-object) |
| **Возвращает** | Объект [ResourceResponse](#resourceresponse-object) |

### <a name="get-conversations"></a>Получить диалоги

Получает список диалогов, в которых бот принимал участие.

```http
GET /v3/conversations?continuationToken={continuationToken}
```

| | |
|----|----|
| **Текст запроса** | Недоступно |
| **Возвращает** | Объект [ConversationsResult](#conversationsresult-object) |

### <a name="get-conversation-members"></a>Получить участников общения

Возвращает участников указанного общения.

```http
GET /v3/conversations/{conversationId}/members
```

| | |
|----|----|
| **Текст запроса** | Недоступно |
| **Возвращает** | Массив объектов [ChannelAccount](#channelaccount-object) |

### <a name="get-conversation-paged-members"></a>Получение участников беседы по страницам

Возвращает участников указанной беседы по одной странице за раз.

```http
GET /v3/conversations/{conversationId}/pagedmembers?pageSize={pageSize}&continuationToken={continuationToken}
```

| | |
|----|----|
| **Текст запроса** | Недоступно |
| **Возвращает** | Объект [PagedMembersResult](#pagedmembersresult-object) |

### <a name="get-activity-members"></a>Получить участников действия

Возвращает участников указанного действия в указанном общении.

```http
GET /v3/conversations/{conversationId}/activities/{activityId}/members
```

| | |
|----|----|
| **Текст запроса** | Недоступно |
| **Возвращает** | Массив объектов [ChannelAccount](#channelaccount-object) |

### <a name="update-activity"></a>Обновить действие

Некоторые каналы позволяют изменить существующее действие, чтобы отразить новое состояние общения бота. Например, можно удалять кнопки из сообщения в общении после того, как пользователь нажмет одну из кнопок. При успешном выполнении эта операция обновляет указанное действие в рамках указанного общения.

```http
PUT /v3/conversations/{conversationId}/activities/{activityId}
```

| | |
|----|----|
| **Текст запроса** | Объект [Activity](#activity-object) |
| **Возвращает** | Объект [ResourceResponse](#resourceresponse-object) |

### <a name="delete-activity"></a>Удалить действие

Некоторые каналы позволяют удалить существующее действие. При успешном выполнении эта операция удаляет указанное действие из указанного общения.

```http
DELETE /v3/conversations/{conversationId}/activities/{activityId}
```

| | |
|----|----|
| **Текст запроса** | Недоступно |
| **Возвращает** | Код состояния HTTP, который указывает результат операции. В тексте ответа ничего не указано. |

### <a name="delete-conversation-member"></a>Удалить участника диалога

Удаляет участника из диалога. Если этот участник был последним в диалоге, диалог также будет удален.

```http
DELETE /v3/conversations/{conversationId}/members/{memberId}
```

| | |
|----|----|
| **Текст запроса** | Недоступно |
| **Возвращает** | Код состояния HTTP, который указывает результат операции. В тексте ответа ничего не указано. |

### <a name="send-conversation-history"></a>Отправить журнал бесед

Отправляет расшифровку последних действий в диалог, поэтому клиент может преобразовать их для просмотра.

```http
POST /v3/conversations/{conversationId}/activities/history
```

| | |
|----|----|
| **Текст запроса** | Объект [Transcript](#transcript-object). |
| **Возвращает** | Объект [ResourceResponse](#resourceresponse-object). |

### <a name="upload-attachment-to-channel"></a>Отправить вложение на канал

Передает вложение указанного общения непосредственно в хранилище BLOB-объектов канала. Это позволяет хранить данные в соответствующем хранилище.

```http
POST /v3/conversations/{conversationId}/attachments
```

| | |
|----|----|
| **Текст запроса** | Объект [AttachmentData](#attachmentdata-object). |
| **Возвращает** | Объект [ResourceResponse](#resourceresponse-object). Свойство **id** определяет идентификатор вложения, который может использоваться с операциями [получение сведений о вложениях](#get-attachment-info) и [получение вложение](#get-attachment). |

## <a name="attachment-operations"></a>Операции вложения

Используйте следующие операции для получения сведений о вложениях и двоичных данных для самого файла.

| Операция | Description |
|----|----|
| [Получить сведения о вложениях](#get-attachment-info) | Получает сведения об указанном вложении, включая имя файла, тип файла и список доступных представлений (например, исходные представления или эскиз). |
| [Получить вложение](#get-attachment) | Получает указанное представление указанного вложения как двоичное содержимое. |

### <a name="get-attachment-info"></a>Получить сведения о вложениях

Получает сведения об указанном вложении, включая имя файла, тип и список доступных представлений (например, исходные представления или эскиз).

```http
GET /v3/attachments/{attachmentId}
```

| | |
|----|----|
| **Текст запроса** | Недоступно |
| **Возвращает** | Объект [AttachmentInfo](#attachmentinfo-object) |

### <a name="get-attachment"></a>Получить вложение

Получает указанное представление указанного вложения как двоичное содержимое.

```http
GET /v3/attachments/{attachmentId}/views/{viewId}
```

| | |
|----|----|
| **Текст запроса** | Недоступно |
| **Возвращает** | Двоичное содержимое, отображающее указанное представление указанного вложения |

## <a name="state-operations-deprecated"></a>Операции состояния (нерекомендуемые)

Служба состояний Microsoft Bot Framework устарела с 30 марта 2018 г. Ранее боты, созданные на основе службы Azure Bot или пакета SDK для Bot Builder, по умолчанию использовали подключение к этой службе, размещенной корпорацией Майкрософт, для хранения данных о состоянии бота. Теперь эти боты нужно обновить, чтобы они использовали собственное хранилище состояний.

| Операция | Description |
|----|----|
| `Set User Data` | Сохраняет данные состояния для конкретного пользователя на канале. |
| `Set Conversation Data` | Сохраняет данные состояния для конкретного общения на канале. |
| `Set Private Conversation Data` | Сохраняет данные состояния для конкретного пользователя в контексте указанного общения на канале. |
| `Get User Data` | Извлекает данные состояния, сохраненные ранее для конкретного пользователя во всех сеансах общения на канале. |
| `Get Conversation Data` | Извлекает данные состояния, сохраненные ранее для конкретного общения на канале. |
| `Get Private Conversation Data` | Извлекает данные состояния, сохраненные ранее для конкретного пользователя в контексте указанного общения на канале. |
| `Delete State For User` | Удаляет данные состояния, сохраненные ранее для конкретного пользователя. |

## <a name="schema"></a>схема

Схема действия Bot Framework определяет объекты и свойства, которые бот может использовать для взаимодействия с пользователем.

| Объект | Description |
| ---- | ---- |
| [Объект Activity](#activity-object) | Определяет сообщения, которыми обмениваются бот и пользователь. |
| [Объект AnimationCard](#animationcard-object) | Определяет карту, которая может воспроизводить файлы GIF с анимацией или короткие видео. |
| [Объект Attachment](#attachment-object) | Определяет дополнительные сведения для включения в сообщение. Вложение может быть файлом мультимедиа (например, аудио, видео, изображением, файлом) или форматированной карточкой. |
| [Объект AttachmentData](#attachmentdata-object) | Описывает данные вложения. |
| [Объект AttachmentInfo](#attachmentinfo-object) | Описывает вложение. |
| [Объект AttachmentView](#attachmentview-object) | Определяет представление вложения. |
| [Объект AudioCard](#audiocard-object) | Определяет карту, которая может воспроизводить звуковые файлы. |
| [Объект CardAction](#cardaction-object) | Определяет действие для выполнения. |
| [Объект CardImage](#cardimage-object) | Определяет изображение для отображения на карте. |
| [Объект ChannelAccount](#channelaccount-object) | Определяет бота или учетную запись пользователя на канале. |
| [Объект ConversationAccount](#conversationaccount-object) | Определяет общение на канале. |
| [Объект ConversationMembers](#conversationmembers-object) | Определяет участников беседы. |
| [Объект ConversationParameters](#conversationparameters-object) | Определяет параметры для создания нового общения. |
| [Объект ConversationReference](#conversationreference-object) | Определяет конкретный момент в общении. |
| [Объект ConversationResourceResponse](#conversationresourceresponse-object) | Определяет ответ на операцию [Создать диалог](#create-conversation). |
| Объект [ConversationsResult](#conversationsresult-object) | Определяет результат вызова операции [Получить диалоги](#get-conversations). |
| [Объект Entity](#entity-object) | Определяет объект сущности. |
| [Объект Error](#error-object) | Определяет ошибку. |
| [Объект ErrorResponse](#errorresponse-object) | Определяет ответ API HTTP. |
| [Объект Fact](#fact-object) | Определяет пару "ключ — значение", содержащую факт. |
| [Объект GeoСoordinates](#geocoordinates-object) | Определяет географическое расположение с помощью координат всемирной геодезической системы (WSG84). |
| [Объект HeroCard](#herocard-object) | Определяет карту с большим изображением, заголовком, текстом и командной кнопкой. |
| [Объект InnerHttpError](#innerhttperror-object) | Объект, представляющий внутреннюю ошибку HTTP. |
| [Объект MediaEventValue](#mediaeventvalue-object) | Дополнительный параметр для событий мультимедиа. |
| [Объект MediaUrl](#mediaurl-object) | Определяет URL-адрес источника файла мультимедиа. |
| [Объект Mention](#mention-object) | Определяет пользователя или бота, упомянутого в общении. |
| [Объект MessageReaction](#messagereaction-object) | Определяет ответную реакцию на сообщение. |
| [Объект PagedMembersResult](#pagedmembersresult-object) | Страница участников, возвращаемая операцией [получения участников диалога по страницам](#get-conversation-paged-members). |
| [Объект Place](#place-object) | Определяет место, упомянутое в общении. |
| [Объект ReceiptCard](#receiptcard-object) | Определяет карту, которая содержит квитанцию о покупке. |
| [Объект ReceiptItem](#receiptitem-object) | Определяет элемент строки в квитанции. |
| [Объект ResourceResponse](#resourceresponse-object) | Определяет ресурс. |
| [Объект SemanticAction](#semanticaction-object) | Определяет ссылку на программное действие. |
| [Объект SignInCard](#signincard-object) | Определяет карту, которая позволяет пользователю выполнить вход в службу. |
| [Объект SuggestedActions](#suggestedactions-object) | Определяет варианты действий, из которых пользователь может выбирать. |
| [Объект TextHighlight](#texthighlight-object) | Ссылается на подстроку содержимого в другом поле. |
| [Объект ThumbnailCard](#thumbnailcard-object) | Определяет карту с эскизом изображения, заголовком, текстом и командной кнопкой. |
| [Объект ThumbnailUrl](#thumbnailurl-object) | Определяет URL-адрес источника изображения. |
| Объект [Transcript](#transcript-object) | Коллекция действий, отправляемых с помощью операции [Отправить журнал бесед](#send-conversation-history). |
| [Объект VideoCard](#videocard-object) | Определяет карту, которая может воспроизводить видео. |

### <a name="activity-object"></a>Объект Activity

Определяет сообщения, которыми обмениваются бот и пользователь.

| Свойство | Тип | Description |
|----|----|----|
| **action** | строка | Действие для применения или уже примененное. Используйте свойство **type**, чтобы определить контекст для действия. Например, если свойству **type** задано **contactRelationUpdate**, значение свойства **action** будет равняться **add**, если пользователь добавил бота в список контактов, или **remove**, если пользователь удалил бота из списка контактов. |
| **attachmentLayout** | строка | Макет **вложенных** форматированных карточек, включенных в сообщение. Одно из следующих значений: **carousel**, **list**. Дополнительные сведения о форматированных карточках см. в статье [Добавление форматированных карточек как вложения к сообщениям](bot-framework-rest-connector-add-rich-cards.md). |
| **attachments** | [Attachment](#attachment-object)[] | Массив объектов **Attachment**, который определяет дополнительные сведения для включения в сообщение. Каждое вложение может быть файлом (например, аудио, видео, изображением) или форматированной карточкой. |
| **callerId** | строка | Строка, содержащая IRI для идентификации объекта, который вызывает бота. Это поле не предназначено для передачи по сети. Оно заполняется ботами и клиентами на основе доступных для криптографической проверки данных, которые подтверждают подлинность вызывающих объектов (например, маркеров). |
| **channelData** | объект | Объект, содержащий определяемое каналом содержимое. Некоторые каналы предоставляют функции, требующие дополнительных сведений, которые не могут быть представлены с помощью схемы вложения. В таких случаях для этого свойства задается определяемое каналом содержимое, как указано в документации канала. Дополнительные сведения см. в статье [Реализация функциональных возможностей канала](bot-framework-rest-connector-channeldata.md). |
| **channelId** | строка | Идентификатор, однозначно определяющий канал. Задается каналом. |
| **code** | строка | Код, указывающий причину завершения общения. |
| **беседа** | [ConversationAccount](#conversationaccount-object) | Объект **ConversationAccount**, определяющий общение, к которому относится действие. |
| **deliveryMode** | строка | Указание, определяющее альтернативные пути доставки действия получателю. Одно из следующих значений: **normal**, **notification**. |
| **entities** | object[] | Массив объектов, представляющих сущности, которые были упомянуты в сообщении. Объекты в этом массиве могут быть любыми объектами из [Schema.org](http://schema.org/). Например, массив может содержать объекты [Mention](#mention-object), определяющие пользователя, который был упомянут в общении, и объекты [Place](#place-object), определяющие место, которое было упомянуто в общении. |
| **expiration** | строка | Время, в течение которого действие должно считаться истекшим и не должно быть представлено получателю. |
| **from** | [ChannelAccount](#channelaccount-object) | Объект **ChannelAccount**, указывающий отправителя сообщения. |
| **historyDisclosed** | Логическое | Флаг, указывающий, раскрывается ли журнал. Значение по умолчанию — **false**. |
| **идентификатор** | строка | Идентификатор, однозначно идентифицирующий действие на канале. |
| **importance** | строка | Определяет важность действия. Одно из следующих значений: **low**, **normal**, **high**. |
| **inputHint** | строка | Значение, указывающее, принимает, ожидает или игнорирует бот входные данные пользователя после доставки сообщения клиенту. Одно из следующих значений: **acceptingInput**, **expectingInput** или **ignoringInput**. |
| **label** | строка | Описательная метка для действия. |
| **listenFor** | string[] | Список фраз и ссылок, которые должны прослушиваться в системах подготовки речи и языка. |
| **locale** | строка | Языковой стандарт для языка, который должен использоваться для отображения текста в сообщении, в формате `<language>-<country>`. Канал использует это свойство для указания языка пользователя, чтобы бот мог указывать отображаемые строки на этом языке. Значение по умолчанию — **en-US**. |
| **localTimestamp** | строка | Дата и время отправки сообщения по местному часовому поясу, выраженные в формате [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601). |
| **localTimezone** | строка | Содержит имя локального часового пояса сообщения, представленного в формате базы данных часового пояса IANA. Например, America/Los_Angeles. |
| **membersAdded** | [ChannelAccount](#channelaccount-object)[] | Массив объектов **ChannelAccount**, представляющий список пользователей, которые присоединились к общению. Присутствует, только когда **тип** действия равен conversationUpdate и пользователи присоединились к общению. |
| **membersRemoved** | [ChannelAccount](#channelaccount-object)[] | Массив объектов **ChannelAccount**, представляющий список пользователей, которые вышли из общения. Присутствует, только когда **тип** действия — conversationUpdate и пользователи вышли из общения. |
| **name** | строка | Имя операции для вызова или имя события. |
| **reactionsAdded** | [MessageReaction](#messagereaction-object)[] | Коллекция реакций, добавленных в диалог. |
| **reactionsRemoved** | [MessageReaction](#messagereaction-object)[] | Коллекция реакций, удаленных из диалога. |
| **recipient** | [ChannelAccount](#channelaccount-object) | Объект **ChannelAccount**, указывающий получателя сообщения. |
| **relatesTo** | [ConversationReference](#conversationreference-object) | Объект **ConversationReference**, который определяет конкретный момент в общении. |
| **replyToId** | строка | Идентификатор сообщения, ответом на которое является это сообщение. Чтобы ответить на сообщение, отправленное пользователем, присвойте этому свойству значение идентификатора сообщения пользователя. Не все каналы поддерживают цепочки ответов. В таких случаях канал игнорирует это свойство и использует упорядоченную по времени семантику (метку времени) для добавления сообщения в диалог. |
| **semanticAction** |[SemanticAction](#semanticaction-object) | Объект **SemanticAction**, представляющий ссылку на программное действие. |
| **serviceUrl** | строка | URL-адрес, указывающий конечную точку службы канала. Задается каналом. |
| **speak** | строка | Текст, который боту требуется произнести на канале с поддержкой речевых функций. Чтобы контролировать различные характеристики речи бота, такие как голос, скорость, громкость, произношение и тон, укажите это свойство в формате [языка разметки синтеза речи (SSML)](https://msdn.microsoft.com/library/hh378377(v=office.14).aspx). |
| **suggestedActions** | [SuggestedActions](#suggestedactions-object) | Объект **SuggestedActions**, определяющий варианты действий, из которых пользователь может выбирать. |
| **summary** | строка | Сводка данных, которая содержит сообщение. Например, для сообщения, которое отправляется на канал электронной почты, это свойство может указывать первые 50 символов электронного сообщения. |
| **text** | строка | Текст сообщения, отправляемого от пользователя к боту или от бота к пользователю. См. документацию канала по ограничениям, накладываемым на содержимое этого свойства. |
| **textFormat** | строка | Формат **текста** сообщения. Одно из следующих значений: **markdown**, **plain** или **xml**. Дополнительные сведения о формате текста см. в статье [Создание сообщений](bot-framework-rest-connector-create-messages.md). |
| **textHighlights** | [TextHighlight](#texthighlight-object)[] | Коллекция фрагментов текста для выделения, если действие содержит значение **replyToId**. |
| **timestamp** | строка | Дата и время отправки сообщения в часовом поясе UTC, выраженные в формате [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601). |
| **topicName** | строка | Раздел общения, к которому относится действие. |
| **type** | строка | Тип действия. Одно из следующих значений: **message**, **contactRelationUpdate**, **conversationUpdate**, **typing**, **endOfConversation**, **event**, **invoke**, **deleteUserData**, **messageUpdate**, **messageDelete**, **installationUpdate**, **messageReaction**, **suggestion**, **trace**, **handoff**. Дополнительные сведения о типах действий см. в статье [Общие сведения о действиях](https://aka.ms/botSpecs-activitySchema). |
| **value** | объект | Открытое значение. |
| **valueType** | строка | Тип объекта значения действия. |

[Вернуться к таблице "Схема"](#schema)

### <a name="animationcard-object"></a>Объект AnimationCard

Определяет карту, которая может воспроизводить файлы GIF с анимацией или короткие видео.

| Свойство | Тип | Description |
|----|----|----|
| **aspect** | Логическое | Пропорции эскиза или заполнителя мультимедиа. Допустимые значения: 16:9 и 4:3. |
| **autoloop** | Логическое | Флаг, указывающий, следует ли повторять воспроизведение списка анимированных изображений в формате GIF при завершении последнего. Для автоматического повтора воспроизведения анимации присвойте этому свойству значение **true**, в противном случае — **false**. Значение по умолчанию — **true** |
| **autostart** | Логическое | Флаг, указывающий, следует ли автоматически воспроизводить анимацию при отображении карты. Для автоматического воспроизведения анимации присвойте этому свойству значение **true**, в противном случае — **false**. Значение по умолчанию — **true** |
| **buttons** | [CardAction](#cardaction-object)[] | Массив объектов **CardAction**, позволяющий пользователю выполнять одно или несколько действий. Канал определяет количество кнопок, которые можно указать. |
| **duration** | строка | Длина мультимедийных данных в [формате длительности ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html). |
| **image** | [ThumbnailUrl](#thumbnailurl-object) | Объект **ThumbnailUrl**, указывающий изображение, отображаемое на карте. |
| **media** | [MediaUrl](#mediaurl-object)[] | Массив объектов **MediaUrl**. Если это поле содержит более одного URL-адреса, это значит, что каждый URL-адрес представляет альтернативный формат одного содержимого.|
| **shareable** | Логическое | Флаг, указывающий, может ли анимации быть предоставлен общий доступ. Если анимация может находиться в общем доступе, присвойте этому свойству значение **true**, в противном случае — **false**. Значение по умолчанию — **true** |
| **subtitle** | строка | Подзаголовок для отображения под заголовком карты. |
| **text** | строка | Описание или запрос для отображения под заголовком или подзаголовком карты. |
| **title** | строка | Заголовок карты. |
| **value** | объект | Дополнительный параметр для этой карты. |

[Вернуться к таблице "Схема"](#schema)

### <a name="attachment-object"></a>Объект Attachment

Определяет дополнительные сведения для включения в сообщение. Вложение может быть файлом (например, изображением, аудио или видео) или форматированной карточкой.

| Свойство | Тип | Description |
|----|----|----|
| **content** | объект | Содержимое вложения. Если вложение — это форматированная карточка, укажите для этого свойства объект форматированной карты. Это свойство и свойство **contentUrl** являются взаимоисключающими. |
| **contentType** | строка | Тип мультимедиа содержимого во вложении. Для файлов мультимедиа задайте этому свойству значение известных типов мультимедиа, например **image/png**, **audio/wav** или **video/mp4**. Для форматированных карточек задайте этому свойству один из следующих типов, определяемых поставщиком:<ul><li>**application/vnd.microsoft.card.adaptive**: Функциональная карточка, которая может содержать произвольное сочетание текста, речи, изображений, кнопок и полей для ввода. Для свойства **content** укажите объект [AdaptiveCard](https://adaptivecards.io/explorer/AdaptiveCard.html).</li><li>**application/vnd.microsoft.card.animation**: функциональная карточка для воспроизведения анимации. Для свойства **content** укажите объект [AnimationCard](#animationcard-object).</li><li>**application/vnd.microsoft.card.audio**: функциональная карточка для воспроизведения аудио-файлов. Для свойства **content** укажите объект [AudioCard](#audiocard-object).</li><li>**application/vnd.microsoft.card.hero**: карточка имиджевого баннера. Для свойства **content** укажите объект [HeroCard](#herocard-object).</li><li>**application/vnd.microsoft.card.receipt**: карточка квитанции. Для свойства **content** укажите объект [ReceiptCard](#receiptcard-object).</li><li>**application/vnd.microsoft.card.signin**: карточка входа пользователя. Для свойства **content** укажите объект [SignInCard](#signincard-object).</li><li>**application/vnd.microsoft.card.thumbnail**: карточка эскиза. Для свойства **content** укажите объект [ThumbnailCard](#thumbnailcard-object).</li><li>**application/vnd.microsoft.card.video**: функциональная карточка для воспроизведения видео. Для свойства **content** укажите объект [VideoCard](#videocard-object).</li></ul> |
| **contentUrl** | строка | URL-адрес для содержимого вложения. Например, если вложение — это изображение, укажите для свойства **contentUrl** URL-адрес, представляющий расположение этого изображения. Поддерживаемые протоколы: HTTP, HTTPS, а также протоколы передачи файлов и данных. |
| **name** | строка | Имя вложения. |
| **thumbnailUrl** | строка | URL-адрес эскиза, который канал может использовать, если поддерживает использование альтернативных, меньших форм свойств **content** или **contentUrl**. Например, если задать свойству **contentType** значение **application/word**, а свойству **contentUrl** — расположение документа Word, можно включить эскиз изображения, представляющего документ. Канал будет отображать эскиз изображения вместо документа. При щелчке изображения канал откроет документ. |

[Вернуться к таблице "Схема"](#schema)

### <a name="attachmentdata-object"></a>Объект AttachmentData

Описывает данные вложения.

| Свойство | Тип | Description |
|----|----|----|
| **name** | строка | Имя вложения. |
| **originalBase64** | строка | Содержимое вложения. |
| **thumbnailBase64** | строка | Содержимое эскиза вложения. |
| **type** | строка | Тип содержимого вложения. |

[Вернуться к таблице "Схема"](#schema)

### <a name="attachmentinfo-object"></a>Объект AttachmentInfo

Метаданные для вложения.

| Свойство | Тип | Description |
|----|----|----|
| **name** | строка | Имя вложения. |
| **type** | строка | Тип содержимого вложения. |
| **представления;** | [AttachmentView](#attachmentview-object)[] | Массив объектов **AttachmentView**, представляющий доступные представления для вложения. |

[Вернуться к таблице "Схема"](#schema)

### <a name="attachmentview-object"></a>Объект AttachmentView

Определяет представление вложения.

| Свойство | Тип | Description |
|----|----|----|
| **size** | number | Размер файла. |
| **viewId** | строка | Идентификатор представления. |

[Вернуться к таблице "Схема"](#schema)

### <a name="audiocard-object"></a>Объект AudioCard

Определяет карту, которая может воспроизводить звуковые файлы.

| Свойство | Тип | Description |
|----|----|----|
| **aspect** | строка | Пропорции эскиза, указанные в свойстве **image**. Допустимые значения: **16:9** и **4:3**. |
| **autoloop** | Логическое | Флаг, указывающий, следует ли повторять воспроизведение списка аудиофайлов при завершении последнего. Для автоматического повторного воспроизведения аудиофайлов присвойте этому свойству значение **true**, в противном случае — **false**. Значение по умолчанию — **true** |
| **autostart** | Логическое | Флаг, указывающий, следует ли автоматически воспроизводить звук при отображении карты. Для автоматического воспроизведения звука присвойте этому свойству значение **true**, в противном случае — **false**. Значение по умолчанию — **true** |
| **buttons** | [CardAction](#cardaction-object)[] | Массив объектов **CardAction**, позволяющий пользователю выполнять одно или несколько действий. Канал определяет количество кнопок, которые можно указать. |
| **duration** | строка | Длина мультимедийных данных в [формате длительности ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html). |
| **image** | [ThumbnailUrl](#thumbnailurl-object) | Объект **ThumbnailUrl**, указывающий изображение, отображаемое на карте. |
| **media** | [MediaUrl](#mediaurl-object)[] | Массив объектов **MediaUrl**.  Если это поле содержит более одного URL-адреса, это значит, что каждый URL-адрес представляет альтернативный формат одного содержимого. |
| **shareable** | Логическое | Флаг, указывающий, может ли быть предоставлен общий доступ к аудиофайлам. Если аудиофайлы могут находиться в общем доступе, присвойте этому свойству значение **true**, в противном случае — **false**. Значение по умолчанию — **true** |
| **subtitle** | строка | Подзаголовок для отображения под заголовком карты. |
| **text** | строка | Описание или запрос для отображения под заголовком или подзаголовком карты. |
| **title** | строка | Заголовок карты. |
| **value** | объект | Дополнительный параметр для этой карты. |

[Вернуться к таблице "Схема"](#schema)

### <a name="cardaction-object"></a>Объект CardAction

Определяет доступное для щелчка действие с кнопкой.

| Свойство | Тип | Description |
|----|----|----|
| **channelData** | строка | Относящиеся к каналу данные, связанные с этим действием. |
| **displayText** | строка | Текст, отображаемый в канале чата при нажатии кнопки. |
| **image** | строка | URL-адрес изображения, которое будет отображаться на кнопке рядом с текстовой меткой. |
| **text** | строка | Текст для действия. |
| **title** | строка | Текстовое описание, которое отображается на кнопке. |
| **type** | строка | Тип действия для выполнения. Список допустимых значений см. в статье [Добавление форматированных карточек как вложения к сообщениям](bot-framework-rest-connector-add-rich-cards.md). |
| **value** | объект | Дополнительный параметр для этого действия. Поведение этого свойства будет меняться в зависимости от **типа** действия. Дополнительные сведения см. в статье [Добавление форматированных карточек как вложения к сообщениям](bot-framework-rest-connector-add-rich-cards.md). |

[Вернуться к таблице "Схема"](#schema)

### <a name="cardimage-object"></a>Объект CardImage

Определяет изображение для отображения на карте.

| Свойство | Тип | Description |
|----|----|----|
| **alt** | строка | Описание изображения. Следует включить описание для поддержки специальных возможностей. |
| **tap** | [CardAction](#cardaction-object) | Объект **CardAction**, указывающий действие, выполняемое при нажатии или щелчке изображения. |
| **url** | строка | URL-адрес источника изображения или двоичный код base64 изображения (например, `data:image/png;base64,iVBORw0KGgo...`). |

[Вернуться к таблице "Схема"](#schema)

### <a name="channelaccount-object"></a>Объект ChannelAccount

Определяет бота или учетную запись пользователя на канале.

| Свойство | Тип | Description |
|----|----|----|
| **aadObjectId** | строка | Идентификатор объекта этой учетной записи в Azure Active Directory. |
| **идентификатор** | строка | Уникальный идентификатор пользователя или бота в этом канале. |
| **name** | строка | Понятное имя бота или пользователя. |
| **role** | строка | Роль сущности, которая находится за учетной записью. **user** или **bot**. |

[Вернуться к таблице "Схема"](#schema)

### <a name="conversationaccount-object"></a>Объект ConversationAccount

Определяет общение на канале.

| Свойство | Тип | Description |
|----|----|----|
| **aadObjectId** | строка | Идентификатор объекта этой учетной записи в Azure Active Directory (AAD). |
| **conversationType** | строка | Указывает тип диалога в каналах, которые могут определять разные типы (например, групповое или личное общение). |
| **идентификатор** | строка | Идентификатор, определяющий общение. Идентификатор является уникальным для каждого канала. Если в канале начинается диалог, канал определяет этот идентификатор. В противном случае бот присваивает этому свойству идентификатор, который получает в ответе при запуске диалога (см. инструкции по [началу диалога](#create-conversation)). |
| **isGroup** | Логическое | Флаг, указывающий, содержит ли общение более двух участников во время создания действия. Задайте значение **true**, если это групповой общение, в противном случае — **false**. Значение по умолчанию — **false**. |
| **name** | строка | Отображаемое имя, которое может использоваться для идентификации общения. |
| **role** | строка | Роль сущности, которая находится за учетной записью. **user** или **bot**. |
| **tenantId** | строка | Идентификатор клиента диалога. |

[Вернуться к таблице "Схема"](#schema)

### <a name="conversationmembers-object"></a>Объект ConversationMembers

Определяет участников беседы.

| Свойство | Тип | Description |
|----|----|----|
| **идентификатор** | строка | Идентификатор разговора. |
| **members** | [ChannelAccount](#channelaccount-object)[] | Список участников в этом диалоге. |

[Вернуться к таблице "Схема"](#schema)

### <a name="conversationparameters-object"></a>Объект ConversationParameters

Определяет параметры для создания диалога.

| Свойство | Тип | Description |
|----|----|----|
| **activity** | [Действие](#activity-object) | Начальное сообщение, отправляемое в создаваемый диалог. |
| **bot** | [ChannelAccount](#channelaccount-object) | Сведения об учетной записи канала, требуемые для отправки сообщения в бот. |
| **channelData** | объект | Связанные с каналом полезные данные для создания диалога. |
| **isGroup** | Логическое | Указывает, является ли диалог групповым. |
| **members** | [ChannelAccount](#channelaccount-object)[] | Сведения об учетной записи канала, требуемые для отправки сообщения каждому пользователю. |
| **tenantId** | строка | Идентификатор клиента, в котором создается диалог. |
| **topicName** | строка | Тема диалога. Это свойство используется только в том случае, если канал его поддерживает. |

[Вернуться к таблице "Схема"](#schema)

### <a name="conversationreference-object"></a>Объект ConversationReference

Определяет конкретный момент в общении.

| Свойство | Тип | Description |
|----|----|----|
| **activityId** | строка | Идентификатор, однозначно определяющий действие, на которое ссылается данный объект. |
| **bot** | [ChannelAccount](#channelaccount-object) | Объект **ChannelAccount**, идентифицирующий бота в общении, на который ссылается данный объект. |
| **channelId** | строка | Идентификатор, однозначно определяющий канал в общении, на которое ссылается данный объект. |
| **беседа** | [ConversationAccount](#conversationaccount-object) | Объект **ConversationAccount**, определяющий общение, на которое ссылается данный объект. |
| **serviceUrl** | строка | URL-адрес, указывающий конечную точку службы канала в общении, на которое ссылается данный объект. |
| **user** | [ChannelAccount](#channelaccount-object) | Объект **ChannelAccount**, идентифицирующий пользователя в общении, на которое ссылается данный объект. |

[Вернуться к таблице "Схема"](#schema)

### <a name="conversationresourceresponse-object"></a>Объект ConversationResourceResponse

Определяет ответ на операцию [Создать диалог](#create-conversation).

| Свойство | Тип | Description |
|----|----|----|
| **activityId** | строка | Идентификатор действия (при его отправке). |
| **идентификатор** | строка | Идентификатор ресурса. |
| **serviceUrl** | строка | Конечная точка службы, в которой могут выполняться операции, связанные с диалогом. |

[Вернуться к таблице "Схема"](#schema)

### <a name="conversationsresult-object"></a>Объект ConversationsResult

Определяет результат операции [Получить диалоги](#get-conversations).

| Свойство | Тип | Description |
|----|----|----|
| **Беседы** | [ConversationMembers](#conversationmembers-object)[] | Участники каждого диалога. |
| **continuationToken** | строка | Токен продолжения, который может использоваться в дальнейших вызовах операции [Получить диалоги](#get-conversations). |

[Вернуться к таблице "Схема"](#schema)

### <a name="entity-object"></a>Объект Entity

Объект метаданных, относящийся к действию.

| Свойство | Тип | Description |
|----|----|----|
| **type** | строка | Тип этой сущности (RFC 3987 IRI). |

[Вернуться к таблице "Схема"](#schema)

### <a name="error-object"></a>Объект ошибки

Объект, представляющий сведения об ошибке.

| Свойство | Тип | Description |
|----|----|----|
| **code** | строка | Код ошибки. |
| **innerHttpError** | [InnerHttpError](#innerhttperror-object) | Объект, представляющий внутреннюю ошибку HTTP. |
| **message** | строка | Текстовое описание ошибки. |

[Вернуться к таблице "Схема"](#schema)

### <a name="errorresponse-object"></a>Объект ErrorResponse

Определяет ответ API HTTP.

| Свойство | Тип | Description |
|----|----|----|
| **error** | [Ошибка](#error-object) | Объект **Error**, содержащий сведения об ошибке. |

[Вернуться к таблице "Схема"](#schema)

### <a name="fact-object"></a>Объект Fact

Определяет пару "ключ — значение", содержащую факт.

| Свойство | Тип | Description |
|----|----|----|
| **key** | строка | Имя факта. Например, **Check-in**. Ключ используется как метка при отображении значения факта. |
| **value** | строка | Значение факта. Например, **10 октября 2016 г**. |

[Вернуться к таблице "Схема"](#schema)

### <a name="geocoordinates-object"></a>Объект GeoCoordinates

Определяет географическое расположение с помощью координат всемирной геодезической системы (WSG84).

| Свойство | Тип | Description |
|----|----|----|
| **elevation** | number | Высота расположения. |
| **latitude** | number | Широта расположения. |
| **longitude** | number | Долгота расположения. |
| **name** | строка | Название расположения. |
| **type** | строка | Тип этого объекта. Всегда имеет значение **GeoCoordinates**. |

[Вернуться к таблице "Схема"](#schema)

### <a name="herocard-object"></a>Объект HeroCard

Определяет карту с большим изображением, заголовком, текстом и командной кнопкой.

| Свойство | Тип | Description |
|----|----|----|
| **buttons** | [CardAction](#cardaction-object)[] | Массив объектов **CardAction**, позволяющий пользователю выполнять одно или несколько действий. Канал определяет количество кнопок, которые можно указать. |
| **images** | [CardImage](#cardimage-object)[] | Массив объектов **CardImage**, указывающий изображение для отображения на карте. Карта для имиджевого баннера содержит только одно изображение. |
| **subtitle** | строка | Подзаголовок для отображения под заголовком карты. |
| **tap** | [CardAction](#cardaction-object) | Объект **CardAction**, указывающий действие, выполняемое при нажатии или щелчке карты. Это может быть то же действие, которое присвоено одной из кнопок, или другое действие. |
| **text** | строка | Описание или запрос для отображения под заголовком или подзаголовком карты. |
| **title** | строка | Заголовок карты. |

[Вернуться к таблице "Схема"](#schema)

### <a name="innerhttperror-object"></a>Объект InnerHttpError

Объект, представляющий внутреннюю ошибку HTTP.

| Свойство | Тип | Description |
|----|----|----|
| **statusCode** | number | Код состояния HTTP из невыполненного запроса. |
| **body** | объект | Текст из невыполненного запроса. |

[Вернуться к таблице "Схема"](#schema)

### <a name="mediaeventvalue-object"></a>Объект MediaEventValue

Дополнительный параметр для событий мультимедиа.

| Свойство | Тип | Description |
|----|----|----|
| **cardValue** | объект | Параметр обратного вызова, указанный в поле **value** карты мультимедиа, являющийся источником этого события. |

[Вернуться к таблице "Схема"](#schema)

### <a name="mediaurl-object"></a>Объект MediaUrl

Определяет URL-адрес источника файла мультимедиа.

| Свойство | Тип | Description |
|----|----|----|
| **profile** | строка | Указание, описывающее содержимое мультимедиа. |
| **url** | строка | URL-адрес источника файла мультимедиа. |

[Вернуться к таблице "Схема"](#schema)

### <a name="mention-object"></a>Объект Mention

Определяет пользователя или бота, упомянутого в общении.

| Свойство | Тип | Description |
|----|----|----|
| **mentioned** | [ChannelAccount](#channelaccount-object) | Объект **ChannelAccount**, указывающий пользователя или бота, который ранее был упомянут. Обратите внимание, что некоторые каналы, такие как Slack, назначают новые имена для каждого общения, так что вполне возможно, что упомянутое имя бота (в свойстве сообщения **recipient**) может отличаться от дескриптора, который был указан при [регистрации](../bot-service-quickstart-registration.md) бота. Тем не менее идентификаторы учетных записей как для нового, так и для указанного имени бота будут совпадать. |
| **text** | строка | Пользователь или бот, упомянутый в общении. Например, если сообщение содержит строку @ColorBot"выбери новый цвет", этому свойству будет присвоено **@ColorBot** . Не все каналы устанавливают это свойство. |
| **type** | строка | Тип этого объекта. Всегда имеет значение **Mention**. |

[Вернуться к таблице "Схема"](#schema)

### <a name="messagereaction-object"></a>Объект MessageReaction

Определяет ответную реакцию на сообщение.

| Свойство | Тип | Description |
|----|----|----|
| **type** | строка | Тип реакции. **like** или **plusOne**. |

[Вернуться к таблице "Схема"](#schema)

### <a name="pagedmembersresult-object"></a>Объект PagedMembersResult

Страница участников, возвращаемая операцией [получения участников диалога по страницам](#get-conversation-paged-members).

| Свойство | Тип | Description |
|----|----|----|
| **continuationToken** | строка | Маркер продолжения, который можно использовать в дальнейших вызовах операции [получения участников диалога по страницам](#get-conversation-paged-members). |
| **members** | [ChannelAccount](#channelaccount-object)[] | Массив участников диалога. |

[Вернуться к таблице "Схема"](#schema)

### <a name="place-object"></a>Объект Place

Определяет место, упомянутое в общении.

| Свойство | Тип | Description |
|----|----|----|
| **address** | объект |  Адрес места. Это свойство может иметь тип **string** или быть сложным объектом типа **PostalAddress**. |
| **geo** | [GeoCoordinates](#geocoordinates-object) | Объект **GeoCoordinates**, указывающий координаты географического расположения. |
| **hasMap** | объект | Карта места. Это свойство может иметь тип **string** (URL-адрес) или быть сложным объектом типа **Map**. |
| **name** | строка | Название места. |
| **type** | строка | Тип этого объекта. Всегда имеет значение **Place**. |

[Вернуться к таблице "Схема"](#schema)

### <a name="receiptcard-object"></a>Объект ReceiptCard

Определяет карту, которая содержит квитанцию о покупке.

| Свойство | Тип | Description |
|----|----|----|
| **buttons** | [CardAction](#cardaction-object)[] | Массив объектов **CardAction**, позволяющий пользователю выполнять одно или несколько действий. Канал определяет количество кнопок, которые можно указать. |
| **facts** | [Fact](#fact-object)[] | Массив объектов **Fact**, указывающий данные о покупке. Например, в списке фактов квитанции о пребывании в гостинице могут быть дата заселения и дата выселения. Канал определяет количество фактов, которые можно указать. |
| **items** | [ReceiptItem](#receiptitem-object)[] | Массив объектов **ReceiptItem**, указывающий приобретенные единицы. |
| **tap** | [CardAction](#cardaction-object) | Объект **CardAction**, указывающий действие, выполняемое при нажатии или щелчке карты. Это может быть то же действие, которое присвоено одной из кнопок, или другое действие. |
| **tax** | строка | Строка в валютном формате, указывающая величину налога, накладываемого на покупку. |
| **title** | строка | Заголовок, отображаемый в верхней части уведомления. |
| **total** | строка | Строка в формате валюты, указывающая общую стоимость покупки, включая все соответствующие налоги. |
| **vat** | строка | Строка в формате валюты, которая определяет величину налога на добавленную стоимость (НДС) со стоимости покупки. |

[Вернуться к таблице "Схема"](#schema)

### <a name="receiptitem-object"></a>Объект ReceiptItem

Определяет элемент строки в квитанции.

| Свойство | Тип | Description |
|----|----|----|
| **image** | [CardImage](#cardimage-object) | Объект **CardImage**, указывающий эскиз изображения для отображения рядом с элементом строки.  |
| **price** | строка | Строка в формате валюты, указывающая общую стоимость всех приобретенных единиц. |
| **quantity** | строка | Числовая строка, указывающая количество приобретенных единиц. |
| **subtitle** | строка | Подзаголовок, отображаемый под заголовком элемента строки. |
| **tap** | [CardAction](#cardaction-object) | Объект **CardAction**, указывающий действие, выполняемое при нажатии или щелчке элемента строки. |
| **text** | строка | Описание элемента строки. |
| **title** | строка | Название элемента строки. |

[Вернуться к таблице "Схема"](#schema)

### <a name="resourceresponse-object"></a>Объект ResourceResponse

Определяет ответ, содержащий идентификатор ресурса.

| Свойство | Тип | Description |
|----|----|----|
| **идентификатор** | строка | Идентификатор, уникально идентифицирующий ресурс. |

[Вернуться к таблице "Схема"](#schema)

### <a name="semanticaction-object"></a>Объект SemanticAction

Определяет ссылку на программное действие.

| Свойство | Тип | Description |
|----|----|----|
| **entities** | объект | Объект, где значение каждого свойства является объектом [Entity](#entity-object). |
| **идентификатор** | строка | Идентификатор этого действия. |
| **state** | строка | Состояние этого действия. Допустимые значения: **start**, **continue**, **done**. |

[Вернуться к таблице "Схема"](#schema)

### <a name="signincard-object"></a>Объект SignInCard

Определяет карту, которая позволяет пользователю выполнить вход в службу.

| Свойство | Тип | Description |
|----|----|----|
| **buttons** | [CardAction](#cardaction-object)[] | Массив объектов **CardAction**, позволяющий пользователю войти в службу. Канал определяет количество кнопок, которые можно указать. |
| **text** | строка | Описание или запрос для включения на карте входа. |

[Вернуться к таблице "Схема"](#schema)

### <a name="suggestedactions-object"></a>Объект SuggestedActions

Определяет варианты действий, из которых пользователь может выбирать.

| Свойство | Тип | Description |
|----|----|----|
| **actions** | [CardAction](#cardaction-object)[] | Массив объектов **CardAction**, определяющий предлагаемые действия. |
| **to** | string[] | Массив строк, содержащий идентификаторы получателей, которым должны отображаться предлагаемые действия. |

[Вернуться к таблице "Схема"](#schema)

### <a name="texthighlight-object"></a>Объект TextHighlight

Ссылается на подстроку содержимого в другом поле.

| Свойство | Тип | Description |
|----|----|----|
| **occurrence** | number | Вхождение текстового поля в тексте, на который указывает ссылка (при наличии повторов). |
| **text** | строка | Определяет фрагмент текста для выделения. |

[Вернуться к таблице "Схема"](#schema)

### <a name="thumbnailcard-object"></a>Объект ThumbnailCard

Определяет карту с эскизом изображения, заголовком, текстом и командной кнопкой.

| Свойство | Тип | Description |
|----|----|----|
| **buttons** | [CardAction](#cardaction-object)[] | Массив объектов **CardAction**, позволяющий пользователю выполнять одно или несколько действий. Канал определяет количество кнопок, которые можно указать. |
| **images** | [CardImage](#cardimage-object)[] | Массив объектов **CardImage**, указывающий эскизы изображений для отображения на карте. Канал определяет количество эскизов изображений, которые можно указать. |
| **subtitle** | строка | Подзаголовок для отображения под заголовком карты. |
| **tap** | [CardAction](#cardaction-object) | Объект **CardAction**, указывающий действие, выполняемое при нажатии или щелчке карты. Это может быть то же действие, которое присвоено одной из кнопок, или другое действие. |
| **text** | строка | Описание или запрос для отображения под заголовком или подзаголовком карты. |
| **title** | строка | Заголовок карты. |

[Вернуться к таблице "Схема"](#schema)

### <a name="thumbnailurl-object"></a>Объект ThumbnailUrl

Определяет URL-адрес источника изображения.

| Свойство | Тип | Description |
|----|----|----|
| **alt** | строка | Описание изображения. Следует включить описание для поддержки специальных возможностей. |
| **url** | строка | URL-адрес источника изображения или двоичный код base64 изображения (например, `data:image/png;base64,iVBORw0KGgo...`). |

[Вернуться к таблице "Схема"](#schema)

### <a name="transcript-object"></a>Объект Transcript

Коллекция действий, отправляемых с помощью операции [Отправить журнал бесед](#send-conversation-history).

| Свойство | Тип | Description |
|----|----|----|
| **действия** | массиве | Массив объектов [Activity](#activity-object). Необходимо, чтобы у них был уникальный идентификатор и метка времени. |

[Вернуться к таблице "Схема"](#schema)

### <a name="videocard-object"></a>Объект VideoCard

Определяет карту, которая может воспроизводить видео.

| Свойство | Тип | Description |
|----|----|----|
| **aspect** | строка | Пропорции видео. Например, **16:9** или **4:3**. |
| **autoloop** | Логическое | Флаг, указывающий, следует ли повторять воспроизведение списка видео при завершении последнего. Для автоматического повторного воспроизведения видео присвойте этому свойству значение **true**, в противном случае — **false**. Значение по умолчанию — **true** |
| **autostart** | Логическое | Флаг, указывающий, следует ли автоматически воспроизводить видео при отображении карты. Для автоматического воспроизведения видео присвойте этому свойству значение **true**, в противном случае — **false**. Значение по умолчанию — **true** |
| **buttons** | [CardAction](#cardaction-object)[] | Массив объектов **CardAction**, позволяющий пользователю выполнять одно или несколько действий. Канал определяет количество кнопок, которые можно указать. |
| **duration** | строка | Длина мультимедийных данных в [формате длительности ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html). |
| **image** | [ThumbnailUrl](#thumbnailurl-object) | Объект **ThumbnailUrl**, указывающий изображение, отображаемое на карте. |
| **media** | [MediaUrl](#mediaurl-object)[] | Массив **MediaUrl**.  Если это поле содержит более одного URL-адреса, это значит, что каждый URL-адрес представляет альтернативный формат одного содержимого. |
| **shareable** | Логическое | Флаг, указывающий, предоставлен ли видео общий доступ. Если видео могут находиться в общем доступе, присвойте этому свойству значение **true**, в противном случае — **false**. Значение по умолчанию — **true** |
| **subtitle** | строка | Подзаголовок для отображения под заголовком карты. |
| **text** | строка | Описание или запрос для отображения под заголовком или подзаголовком карты. |
| **title** | строка | Заголовок карты. |
| **value** | объект | Дополнительный параметр для этой карты. |

[Вернуться к таблице "Схема"](#schema)
