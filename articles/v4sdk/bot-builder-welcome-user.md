---
title: Приветствие, отправляемое пользователю | Документация Майкрософт
description: Сведения о том, как разработать приветствие, которое бот отправляет пользователю.
keywords: overview, design, user experience, Welcome, personalized experience
author: dashel
ms.author: dashel
manager: kamrani
ms.topic: article
ms.prod: bot-framework
ms.date: 8/30/2018
monikerRange: azure-bot-service-4.0
ms.openlocfilehash: beefa14fbfca10e8a9369793c6229b47a23b4adf
ms.sourcegitcommit: 3bf3dbb1a440b3d83e58499c6a2ac116fe04b2f6
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/23/2018
ms.locfileid: "46708874"
---
# <a name="welcoming-the-user"></a>Приветствие, отправляемое пользователю

Основная цель создания любого бота — ведение осмысленного диалога с пользователем. Лучший способ достичь этой цели — сделать так, чтобы с момента присоединения к диалогу пользователь понимал основное назначение вашего бота, его возможности и причины создания.

## <a name="show-your-purpose"></a>Демонстрация назначения бота

Представьте, что пользователь подключается к боту "Информация для туристов о Чикаго" и надеется узнать о гостиницах в Чикаго. Пользователь не догадывается, что ваш бот предназначен для любителей чикагской пиццы и предлагает только рекомендации по ресторанам. Как только пользователь поймет, что не получает нужные ответы на свои вопросы, он быстро прекратит диалог и будет считать, что ваш сайт не предоставляет нужного уровня взаимодействия. Этого можно избежать, отправив пользователю приветствие с необходимой информацией, чтобы пользователь мог понять основное назначение и возможности бота. 

![Приветственное сообщение](./media/welcome_message.png)

Если из приветственного сообщения пользователь поймет, что бот не предоставляет нужной информации, пользователь может перейти к другому средству, не получив неприятного опыта взаимодействия.
Приветственное сообщение должно создаваться, когда пользователь начинает взаимодействовать с ботом. Можно реализовать это, отслеживая типы **действий** в боте и новые подключения. При каждом новом подключении может создаваться не больше двух действий обновления диалога в зависимости от канала:

- одно при подключении бота к диалогу;
- другое при присоединении пользователя к диалогу.

Казалось бы, нужно просто создать приветственное сообщение при обнаружении нового диалога. Но это может привести к непредвиденным результатам при доступе к боту через различные каналы.

## <a name="design-for-different-channels"></a>Разработка для различных каналов

Вы можете полностью контролировать сведения, которые представляет бот, но не можете управлять тем, как представление этой информации реализуется в различных каналах. Некоторые каналы обновляют диалог один раз, когда пользователь впервые подключается к каналу, а затем отдельно обновляют диалог, когда от пользователя поступает первое входящее сообщение. Другие каналы создают оба действия, когда пользователь впервые подключается к каналу. Если просто отслеживать событие обновления диалога и отправлять приветственное сообщение в канал после двух действий обновления диалога, ваш пользователь может получить следующее:

![Повторяющееся приветственное сообщение](./media/double_welcome_message.png)

Повтора сообщения можно избежать, создав начальное приветственное сообщение только после второго события обновления диалога. Второе событие считается обнаруженным, если соблюдены оба условия:
- произошло событие обновления диалога;
- в диалог добавлен новый участник (пользователь).

Кроме того, необходимо учитывать, что введенные пользователем данные могут содержать ценную информацию, которая также по-разному интерпретируются каналами. Если канал создает оба действия обновления при первом подключении к боту, то первое сообщение, введенное пользователем, можно успешно считать ответом на запрос в приветственном сообщении, как в приведенном ниже примере диалога.

![Ответ как один входной элемент](./media/single_input_response.png)

Если, прежде чем сгенерировать второе событие обновления диалога, канал ожидает, что пользователь введет данные, то такой код, как в примере выше, приведет к следующему взаимодействию с пользователем.

![Неправильный ответ как один входной элемент](./media/single_input_wrong_response.png)

Чтобы обеспечить удобство работы пользователей со всеми возможными каналами, не нужно ожидать полезной информации в первом сообщении пользователя. Вместо этого мы рекомендуем не воспринимать данные в первом сообщении как важные. Получив такое сообщение, предложите пользователю ввести данные, необходимые для продолжения диалога. Такой метод позволяет обеспечить согласованное взаимодействие с пользователем независимо от того, какой канал используется для первого обращения к боту.

![Игнорирование первого сообщения](./media/no_first_input_response.png)

## <a name="personalize-the-user-experience"></a>Персонализация взаимодействия с пользователем

Ничто не выглядит так неприветливо и безразлично, как запрос на ввод данных, который пользователь продолжает получать, после того как предоставил эти данные. Если бот сохраняет сведения о пользователях, которые уже посещали диалог, рекомендуется сначала проверить эту информацию, а затем снова поприветствовать пользователя, упомянув его имя, сохраненное на этапе предыдущего посещения. 

![Приветственное сообщение по возвращении пользователя](./media/welcome_back.png)

В этом случае согласно логике бот пропускает запрос на ввод имени и переходит к следующему действию диалога.

В боте также можно персонализировать взаимодействие с пользователем, чтобы бот своевременно реагировал на непредвиденные сообщения пользователя, такие как запросы для завершения диалога.

![Ответ на запрос завершения диалога](./media/respond_to_exit.png)

Уместные и интерактивные ответы помогают пользователям ощутить приветливое отношение и обеспечить приятное взаимодействие с ботом.

## <a name="next-steps"></a>Дополнительная информация
> [!div class="nextstepaction"]
> [Отправка приветственного сообщения пользователям](bot-builder-send-welcome-message.md)
